eq adjustedSpeed(sp,wind?,ctheta) =
      (if wind? 
       then (if (ctheta > .5) 
             then sp / 3.0
             else sp fi)
        else sp / 3.0 fi) .


op conf3 : -> Conf .
eq conf3 = mkBB(0,0.0,0.0,0.0,5.0,100.0,20.0,5,locs1)
           mkBB(1,10.0,10.0,0.0,5.0,100.0,20.0,10,locs2)
           mkE2(0,0.0,0.0,0.0,5.0,100.0) . 

op asys3 : -> ASystem .
eq asys3 = { conf3 minSep(20,pt(0,0,0),pt(10,10,0))
                   maxSep(20,pt(0,0,0),pt(10,10,0)) } .
eq windThresh = 0 .

eq stopSimulation = 5.0 .
--- eq act(id,kb) = actSimple(id,kb) .
--- eq act(id,kb) = actSCP(id,kb) .
eq act(id,kb) = actBasic(id,kb) .
--- eq nextLoc(id,kb) = nextLocSimple(id,kb) .
eq nextLoc(id,kb) = nextLocSCP(id,kb) .

Final configuration:

(tval SITL{
[eI
  | clock(59)class(b(0),Bot)class(b(1),Bot)(timeElapsed(
    4.1951419000000001e+1)@ 59)(timeElapsed(4.2657819000000003e+1)@ 59)(rand(
    236)@ 59)(atloc(b(0),pt(2,3,4))@ 59)(atloc(b(1),pt(10,10,0))@ 59)(energy(b(
    0),1.6e+1)@ 59)(energy(b(1),1.9e+1)@ 59)(vel(b(0),2.2428776159199999)@ 59)(
    vel(b(1),4.8999999999999999e-1)@ 59)wind(1.0,0.0,0.0)@ 0]
[b(0): Bot |
  lkb :(clock(59)class(b(0),Bot)class(b(1),Bot)(timeElapsed(
    4.1413451000000002e+1)@ 58)(rand(290)@ 58)(atloc(b(0),pt(-5,-5,4))@ 58)(
    atloc(b(1),pt(10,10,0))@ 0)(pending(b(0),goToW(b(0),pt(0,0,0),5.0))@ 53)(
    energy(b(0),1.8e+1)@ 58)(caution(b(0),2.0e+1)@ 0)(targetVel(b(0),5.0)@ 0)(
    vel(b(0),2.01062179437)@ 58)(wind(1.0,0.0,0.0)@ 0)(targets(b(0),pt(50,10,
    5); pt(10,30,5); pt(-20,50,5); pt(-40,5,5),nil)@ 0)(visitTimes(b(0),pt(10,
    30,5),6 ; 41)@ 41)(visitTimes(b(0),pt(50,10,5),30)@ 30)(visitTimes(b(0),pt(
    -20,50,5),13 ; 47)@ 47)(visitTimes(b(0),pt(-40,5,5),19)@ 19)(eLoc(b(0),pt(
    0,0,0),58)@ 52)(eLoc(b(0),pt(10,30,5),9 ; 39 ; 54)@ 47)(eLoc(b(0),pt(50,10,
    5),37)@ 19)(eLoc(b(0),pt(-20,50,5),13 ; 48)@ 41)(eLoc(b(0),pt(-40,5,5),23)@
    13)myHome(b(0),pt(0,0,0))myAlt(b(0),5)),
  ckb :(class(b(0),Bot)class(b(1),Bot)(atloc(b(0),pt(-5,-5,4))@ 58)atloc(b(1),
    pt(10,10,0))@ 0),
  evs :(tick @ 0)]
[b(1): Bot |
  lkb :(clock(59)class(b(0),Bot)class(b(1),Bot)(timeElapsed(
    4.1413451000000002e+1)@ 58)(rand(348)@ 58)(atloc(b(0),pt(0,0,0))@ 0)(atloc(
    b(1),pt(10,10,3))@ 58)(pending(b(1),stop(b(1)))@ 59)(energy(b(1),2.0e+1)@
    58)(caution(b(1),2.0e+1)@ 0)(targetVel(b(1),5.0)@ 0)(vel(b(1),
    4.8010415536599998e-1)@ 58)(wind(1.0,0.0,0.0)@ 0)(targets(b(1),pt(40,-10,
    10); pt(-40,-40,10); pt(-35,-5,10); pt(10,-30,10),nil)@ 0)(visitTimes(b(1),
    pt(10,-30,10),6 ; 43)@ 43)(visitTimes(b(1),pt(40,-10,10),11 ; 48)@ 48)(
    visitTimes(b(1),pt(-35,-5,10),23 ; 35)@ 35)(visitTimes(b(1),pt(-40,-40,10),
    27)@ 27)(eLoc(b(1),pt(10,10,0),56)@ 48)(eLoc(b(1),pt(10,-30,10),8 ; 47)@
    37)(eLoc(b(1),pt(40,-10,10),13 ; 50)@ 43)(eLoc(b(1),pt(-35,-5,10),26 ; 34)@
    27)(eLoc(b(1),pt(-40,-40,10),30 ; 42)@ 35)myHome(b(1),pt(10,10,0))myAlt(b(
    1),10)),
  ckb :(class(b(0),Bot)class(b(1),Bot)(atloc(b(0),pt(0,0,0))@ 0)atloc(b(1),pt(
    10,10,3))@ 58),
  evs :(tick @ 0)]
  minSep(0,pt(0,0,1),pt(0,0,0))
  maxSep(130,pt(51,10,4),pt(-39,-30,9))})

Changing wind:

eq windThresh = rand.25 .

(tval SITL{
[eI
  | clock(60)class(b(0),Bot)class(b(1),Bot)(timeElapsed(
    5.8262453000000001e+1)@ 60)(timeElapsed(5.8966653999999998e+1)@ 60)(rand(
    240)@ 60)(atloc(b(0),pt(-6,0,0))@ 60)(atloc(b(1),pt(-36,-39,9))@ 60)(
    energy(b(0),1.9e+1)@ 60)(energy(b(1),1.9e+1)@ 60)(vel(b(0),
    1.5231546211700001e-1)@ 60)(vel(b(1),1.9961212388)@ 60)wind(1.0,0.0,0.0)@
    0]
[b(0): Bot |
  lkb :(clock(60)class(b(0),Bot)class(b(1),Bot)(timeElapsed(
    5.7652844000000002e+1)@ 59)(rand(295)@ 59)(atloc(b(0),pt(-6,0,0))@ 59)(
    atloc(b(1),pt(10,10,0))@ 0)(pending(b(0),stop(b(0)))@ 60)(energy(b(0),
    2.0e+1)@ 59)(caution(b(0),2.0e+1)@ 0)(targetVel(b(0),5.0)@ 0)(vel(b(0),
    5.1662365412400002e-1)@ 59)(wind(1.0,0.0,0.0)@ 0)(targets(b(0),pt(50,10,5);
    pt(10,30,5); pt(-20,50,5); pt(-40,5,5),nil)@ 0)(visitTimes(b(0),pt(10,30,
    5),11)@ 11)(visitTimes(b(0),pt(50,10,5),49)@ 49)(visitTimes(b(0),pt(-20,50,
    5),37)@ 37)(visitTimes(b(0),pt(-40,5,5),nil)@ 0)(eLoc(b(0),pt(0,0,0),59)@
    49)(eLoc(b(0),pt(10,30,5),9)@ 2)(eLoc(b(0),pt(50,10,5),54)@ 37)(eLoc(b(0),
    pt(-20,50,5),18)@ 11)myHome(b(0),pt(0,0,0))myAlt(b(0),5)),
  ckb :(class(b(0),Bot)class(b(1),Bot)(atloc(b(0),pt(-6,0,0))@ 59)atloc(b(1),
    pt(10,10,0))@ 0),
  evs :(tick @ 0)]
[b(1): Bot |
  lkb :(clock(60)class(b(0),Bot)class(b(1),Bot)(timeElapsed(
    5.7652844000000002e+1)@ 59)(rand(354)@ 59)(atloc(b(0),pt(0,0,0))@ 0)(atloc(
    b(1),pt(-36,-43,9))@ 59)(pending(b(1),goToW(b(1),pt(-40,-40,10),5.0))@ 42)(
    energy(b(1),2.0e+1)@ 59)(caution(b(1),2.0e+1)@ 0)(targetVel(b(1),5.0)@ 0)(
    vel(b(1),1.70073513517)@ 59)(wind(1.0,0.0,0.0)@ 0)(targets(b(1),pt(40,-10,
    10); pt(-40,-40,10); pt(-35,-5,10); pt(10,-30,10),nil)@ 0)(visitTimes(b(1),
    pt(10,-30,10),15)@ 15)(visitTimes(b(1),pt(40,-10,10),30)@ 30)(visitTimes(b(
    1),pt(-35,-5,10),41)@ 41)(visitTimes(b(1),pt(-40,-40,10),nil)@ 0)(eLoc(b(
    1),pt(10,-30,10),8)@ 2)(eLoc(b(1),pt(40,-10,10),23)@ 15)(eLoc(b(1),pt(-35,
    -5,10),45)@ 30)(eLoc(b(1),pt(-40,-40,10),48)@ 41)myHome(b(1),pt(10,10,
    0))myAlt(b(1),10)),
  ckb :(class(b(0),Bot)class(b(1),Bot)(atloc(b(0),pt(0,0,0))@ 0)atloc(b(1),pt(
    -36,-43,9))@ 59),
  evs :(tick @ 0)]
  minSep(0,pt(0,0,1),pt(0,0,1))
  maxSep(164,pt(-26,53,5),pt(74,-11,9))})

Changing wind:

eq windThresh = rand.25 + rand.125 .

(tval SITL{
[eI
  | clock(64)class(b(0),Bot)class(b(1),Bot)(timeElapsed(4.3335442e+1)@
    64)(timeElapsed(4.4023221999999997e+1)@ 64)(rand(256)@ 64)(atloc(b(0),pt(
    24,0,4))@ 64)(atloc(b(1),pt(15,12,0))@ 64)(energy(b(0),1.0e+1)@ 64)(energy(
    b(1),1.2e+1)@ 64)(vel(b(0),1.8701069488099999)@ 64)(vel(b(1),
    4.9040799341000002e-1)@ 64)wind(1.0,0.0,0.0)@ 0]
[b(0): Bot |
  lkb :(clock(64)class(b(0),Bot)class(b(1),Bot)(timeElapsed(
    4.2600875000000002e+1)@ 63)(rand(315)@ 63)(atloc(b(0),pt(31,0,4))@ 63)(
    atloc(b(1),pt(10,10,0))@ 0)(pending(b(0),goToW(b(0),pt(0,0,0),5.0))@ 54)(
    energy(b(0),1.1e+1)@ 63)(caution(b(0),2.0e+1)@ 0)(targetVel(b(0),5.0)@ 0)(
    vel(b(0),1.34037308239)@ 63)(wind(1.0,0.0,0.0)@ 0)(targets(b(0),pt(50,10,
    5); pt(10,30,5); pt(-20,50,5); pt(-40,5,5),nil)@ 0)(visitTimes(b(0),pt(10,
    30,5),12)@ 12)(visitTimes(b(0),pt(50,10,5),nil)@ 0)(visitTimes(b(0),pt(-20,
    50,5),22)@ 22)(visitTimes(b(0),pt(-40,5,5),53)@ 53)(eLoc(b(0),pt(0,0,0),
    61)@ 53)(eLoc(b(0),pt(10,30,5),9)@ 2)(eLoc(b(0),pt(-20,50,5),19)@ 12)(eLoc(
    b(0),pt(-40,5,5),32)@ 22)myHome(b(0),pt(0,0,0))myAlt(b(0),5)),
  ckb :(class(b(0),Bot)class(b(1),Bot)(atloc(b(0),pt(31,0,4))@ 63)atloc(b(1),
    pt(10,10,0))@ 0),
  evs :(tick @ 0)]
[b(1): Bot |
  lkb :(clock(64)class(b(0),Bot)class(b(1),Bot)(timeElapsed(
    4.2600875000000002e+1)@ 63)(rand(378)@ 63)(atloc(b(0),pt(0,0,0))@ 0)(atloc(
    b(1),pt(15,12,3))@ 63)(pending(b(1),stop(b(1)))@ 64)(energy(b(1),1.3e+1)@
    63)(caution(b(1),2.0e+1)@ 0)(targetVel(b(1),5.0)@ 0)(vel(b(1),
    4.80936586256e-1)@ 63)(wind(1.0,0.0,0.0)@ 0)(targets(b(1),pt(40,-10,10);
    pt(-40,-40,10); pt(-35,-5,10); pt(10,-30,10),nil)@ 0)(visitTimes(b(1),pt(
    10,-30,10),6)@ 6)(visitTimes(b(1),pt(40,-10,10),16)@ 16)(visitTimes(b(1),
    pt(-35,-5,10),48)@ 48)(visitTimes(b(1),pt(-40,-40,10),56)@ 56)(eLoc(b(1),
    pt(10,10,0),70)@ 56)(eLoc(b(1),pt(10,-30,10),8)@ 2)(eLoc(b(1),pt(40,-10,
    10),13)@ 6)(eLoc(b(1),pt(-35,-5,10),31)@ 16)(eLoc(b(1),pt(-40,-40,10),55)@
    48)myHome(b(1),pt(10,10,0))myAlt(b(1),10)),
  ckb :(class(b(0),Bot)class(b(1),Bot)(atloc(b(0),pt(0,0,0))@ 0)atloc(b(1),pt(
    15,12,3))@ 63),
  evs :(tick @ 0)]
  minSep(0,pt(0,0,0),pt(0,0,1))
  maxSep(137,pt(-26,49,4),pt(56,-6,9))})

Changing wind:

eq windThresh = rand.25 + rand.25 .


(tval SITL{
[eI
  | clock(71)class(b(0),Bot)class(b(1),Bot)(timeElapsed(
    4.4392361000000001e+1)@ 71)(timeElapsed(4.5033957000000001e+1)@ 71)(rand(
    284)@ 71)(atloc(b(0),pt(-1,1,0))@ 71)(atloc(b(1),pt(37,10,4))@ 71)(energy(
    b(0),1.0)@ 71)(energy(b(1),1.0)@ 71)(vel(b(0),1.07703296143e-1)@ 71)(vel(b(
    1),4.8672374094600002e-1)@ 71)wind(1.0,0.0,0.0)@ 0]
[b(0): Bot |
  lkb :(clock(71)class(b(0),Bot)class(b(1),Bot)(timeElapsed(
    4.3754311000000001e+1)@ 70)(rand(350)@ 70)(atloc(b(0),pt(0,1,1))@ 70)(
    atloc(b(1),pt(10,10,0))@ 0)(pending(b(0),stop(b(0)))@ 71)(energy(b(0),2.0)@
    70)(caution(b(0),2.0e+1)@ 0)(targetVel(b(0),5.0)@ 0)(vel(b(0),
    5.2239831546399995e-1)@ 70)(wind(1.0,0.0,0.0)@ 0)(targets(b(0),pt(50,10,5);
    pt(10,30,5); pt(-20,50,5); pt(-40,5,5),nil)@ 0)(visitTimes(b(0),pt(10,30,
    5),13)@ 13)(visitTimes(b(0),pt(50,10,5),nil)@ 0)(visitTimes(b(0),pt(-20,50,
    5),56)@ 56)(visitTimes(b(0),pt(-40,5,5),nil)@ 0)(eLoc(b(0),pt(0,0,0),67)@
    56)(eLoc(b(0),pt(10,30,5),9)@ 2)(eLoc(b(0),pt(-20,50,5),20)@ 13)myHome(b(
    0),pt(0,0,0))myAlt(b(0),5)),
  ckb :(class(b(0),Bot)class(b(1),Bot)(atloc(b(0),pt(0,1,1))@ 70)atloc(b(1),pt(
    10,10,0))@ 0),
  evs :(tick @ 0)]
[b(1): Bot |
  lkb :(clock(71)class(b(0),Bot)class(b(1),Bot)(timeElapsed(
    4.3754311000000001e+1)@ 70)(rand(420)@ 70)(atloc(b(0),pt(0,0,0))@ 0)(atloc(
    b(1),pt(38,10,5))@ 70)(pending(b(1),land(b(1)))@ 69)(energy(b(1),2.0)@ 70)(
    caution(b(1),2.0e+1)@ 0)(targetVel(b(1),5.0)@ 0)(vel(b(1),
    5.0358713248099995e-1)@ 70)(wind(1.0,0.0,0.0)@ 0)(targets(b(1),pt(40,-10,
    10); pt(-40,-40,10); pt(-35,-5,10); pt(10,-30,10),nil)@ 0)(visitTimes(b(1),
    pt(10,-30,10),15)@ 15)(visitTimes(b(1),pt(40,-10,10),40)@ 40)(visitTimes(b(
    1),pt(-35,-5,10),57)@ 57)(visitTimes(b(1),pt(-40,-40,10),nil)@ 0)(eLoc(b(
    1),pt(10,10,0),67)@ 57)(eLoc(b(1),pt(10,-30,10),8)@ 2)(eLoc(b(1),pt(40,-10,
    10),22)@ 15)(eLoc(b(1),pt(-35,-5,10),55)@ 40)myHome(b(1),pt(10,10,0))myAlt(
    b(1),10)),
  ckb :(class(b(0),Bot)class(b(1),Bot)(atloc(b(0),pt(0,0,0))@ 0)atloc(b(1),pt(
    38,10,5))@ 70),
  evs :(tick @ 0)]
  minSep(0,pt(0,0,0),pt(0,0,1))
  maxSep(144,pt(-1,50,4),pt(83,-10,9))})
